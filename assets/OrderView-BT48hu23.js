import{_ as x,d as v,e as T,h as D,i as N,c as a,a as e,f as p,w as b,v as k,t as u,F as m,j as y,o as d}from"./index-CBxRe8TD.js";const O={class:"tbl"},U=["onUpdate:modelValue"],$=["onClick"],A=["onClick"],B={class:"tbl"},E=["onClick"],I=["onClick"],M={__name:"OrderView",setup(j){const s=v(""),i=v(0),r=v([]),o=v({no:0,total:0,orderList:[{id:0,name:"",price:0,count:0}]}),f=v([]),w=()=>{console.log(s.value),r.value.push({no:new Date().getTime(),name:s.value,price:i.value}),s.value="",i.value=0,console.log(r.value)};T(()=>{console.log("onMounted"),setTimeout(()=>{console.log("setTimeout"),r.value=[{id:1,name:"珍珠奶茶",price:50},{id:2,name:"冬瓜檸檬",price:45},{id:3,name:"翡翠檸檬",price:55},{id:4,name:"四季春茶",price:45},{id:5,name:"阿薩姆奶茶",price:50},{id:6,name:"芒果綠茶",price:55},{id:7,name:"抹茶拿鐵",price:60}]},1e3)});let C=0;const L=n=>{r.value=r.value.filter(t=>t.id!==n),console.log(r.value),r.value.splice(n,1)},g=D(()=>o.value.orderList.reduce((n,t)=>n+t.price*t.count,0)),h=n=>{o.value.no===0&&(o.value.no=new Date().getTime(),o.value.orderList.splice(0,1));let t=!1;for(let l=0;l<o.value.orderList.length;l++)if(o.value.orderList[l].id===n.id){o.value.orderList[l].count++,t=!0;break}t||o.value.orderList.push({id:n.id,name:n.name,price:n.price,count:1}),console.log(o.value)},_=n=>{n.count++},P=n=>{n.count>0&&n.count--},V=()=>{o.value.total=g.value,f.value.push(o.value),o.value={no:0,total:0,orderList:[{id:0,name:"",price:0,count:0}]}};return N(()=>{clearInterval(C)}),(n,t)=>(d(),a(m,null,[e("div",null,[t[2]||(t[2]=e("h1",null,"Review Page",-1)),t[3]||(t[3]=e("p",null,"This is the review page where you can see your reviews.",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),placeholder:"Enter your name"},null,512),[[k,s.value]]),p(u(s.value)+" ",1),b(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=l=>i.value=l),placeholder:"Enter your number"},null,512),[[k,i.value]]),p(u(i.value)+" ",1),e("button",{type:"button",onClick:w},"Add Product")]),p(" "+u(r.value)+" ",1),e("table",O,[t[4]||(t[4]=e("tr",null,[e("th",null,"Name"),e("th",null,"Price"),e("th",null,"PriceAdj"),e("th",null,"Delete")],-1)),(d(!0),a(m,null,y(r.value,l=>(d(),a("tr",{key:l.id},[e("td",null,u(l.name),1),e("td",null,u(l.price),1),e("td",null,[b(e("input",{type:"number","onUpdate:modelValue":c=>l.price=c},null,8,U),[[k,l.price]])]),e("td",null,[e("button",{onClick:c=>L(l.id)},"Delete",8,$)]),e("td",null,[e("button",{onClick:c=>h(l)},"order",8,A)])]))),128))]),t[6]||(t[6]=e("br",null,null,-1)),p(" "+u(o.value.no)+" ",1),e("button",{onClick:V},"Apply Order"),e("table",B,[t[5]||(t[5]=e("tr",null,[e("th",null,"Name"),e("th",null,"Price"),e("th",null,"Count")],-1)),(d(!0),a(m,null,y(o.value.orderList,l=>(d(),a("tr",{key:l.id},[e("td",null,u(l.name),1),e("td",null,u(l.price),1),e("td",null,u(l.count),1),e("td",null,[e("button",{onClick:c=>_(l)},"+",8,E)]),e("td",null,[e("button",{onClick:c=>P(l)},"-",8,I)])]))),128))]),p(" "+u(g.value)+" ",1),t[7]||(t[7]=e("br",null,null,-1)),(d(!0),a(m,null,y(f.value,l=>(d(),a("div",{style:{border:"1px solid #000"},key:l.id},u(l),1))),128))],64))}},R=x(M,[["__scopeId","data-v-d3c17c7a"]]);export{R as default};
